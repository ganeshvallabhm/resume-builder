@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Libre+Baskerville:wght@400;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Resume Builder Design System
   Professional, ATS-friendly, Print-safe */

@layer base {
  :root {
    /* Core Colors - Professional Navy/Slate theme */
    --background: 40 33% 98%;
    --foreground: 222 47% 11%;

    --card: 0 0% 100%;
    --card-foreground: 222 47% 11%;

    --popover: 0 0% 100%;
    --popover-foreground: 222 47% 11%;

    --primary: 222 47% 20%;
    --primary-foreground: 0 0% 100%;

    --secondary: 40 30% 94%;
    --secondary-foreground: 222 47% 11%;

    --muted: 40 20% 92%;
    --muted-foreground: 222 15% 45%;

    --accent: 199 89% 48%;
    --accent-foreground: 0 0% 100%;

    --destructive: 0 72% 51%;
    --destructive-foreground: 0 0% 100%;

    --border: 220 13% 88%;
    --input: 220 13% 91%;
    --ring: 222 47% 20%;

    --radius: 0.5rem;

    /* Resume Builder Specific */
    --panel-bg: 40 33% 96%;
    --panel-header: 222 47% 15%;
    --resume-bg: 0 0% 100%;
    --resume-accent: 222 47% 20%;
    --resume-text: 222 47% 11%;
    --resume-muted: 220 9% 46%;
    --section-border: 222 47% 20%;
    --input-focus: 199 89% 48%;

    /* Shadows */
    --shadow-sm: 0 1px 2px 0 hsl(0 0% 0% / 0.05);
    --shadow-md: 0 4px 6px -1px hsl(0 0% 0% / 0.1), 0 2px 4px -2px hsl(0 0% 0% / 0.1);
    --shadow-lg: 0 10px 15px -3px hsl(0 0% 0% / 0.1), 0 4px 6px -4px hsl(0 0% 0% / 0.1);
    --shadow-resume: 0 4px 24px -4px hsl(222 47% 11% / 0.12);

    /* Sidebar defaults */
    --sidebar-background: 0 0% 98%;
    --sidebar-foreground: 240 5.3% 26.1%;
    --sidebar-primary: 240 5.9% 10%;
    --sidebar-primary-foreground: 0 0% 98%;
    --sidebar-accent: 240 4.8% 95.9%;
    --sidebar-accent-foreground: 240 5.9% 10%;
    --sidebar-border: 220 13% 91%;
    --sidebar-ring: 217.2 91.2% 59.8%;
  }

  .dark {
    --background: 222 47% 8%;
    --foreground: 40 33% 98%;
    --card: 222 47% 11%;
    --card-foreground: 40 33% 98%;
    --popover: 222 47% 11%;
    --popover-foreground: 40 33% 98%;
    --primary: 199 89% 48%;
    --primary-foreground: 222 47% 11%;
    --secondary: 222 30% 18%;
    --secondary-foreground: 40 33% 98%;
    --muted: 222 30% 18%;
    --muted-foreground: 220 9% 60%;
    --accent: 199 89% 48%;
    --accent-foreground: 222 47% 11%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 100%;
    --border: 222 30% 22%;
    --input: 222 30% 22%;
    --ring: 199 89% 48%;
    --panel-bg: 222 47% 10%;
    --panel-header: 40 33% 98%;
    --sidebar-background: 240 5.9% 10%;
    --sidebar-foreground: 240 4.8% 95.9%;
    --sidebar-primary: 224.3 76.3% 48%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 240 3.7% 15.9%;
    --sidebar-accent-foreground: 240 4.8% 95.9%;
    --sidebar-border: 240 3.7% 15.9%;
    --sidebar-ring: 217.2 91.2% 59.8%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground antialiased;
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  }

  /* Scrollbar styling */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    background: hsl(var(--muted));
    border-radius: 4px;
  }

  ::-webkit-scrollbar-thumb {
    background: hsl(var(--muted-foreground) / 0.3);
    border-radius: 4px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: hsl(var(--muted-foreground) / 0.5);
  }
}

@layer components {
  /* Resume Builder Layout */
  .resume-builder {
    @apply flex h-screen w-full overflow-hidden;
  }

  /* Input Panel (Left Side) */
  .input-panel {
    @apply w-[45%] min-w-[400px] max-w-[600px] h-full overflow-y-auto;
    background: hsl(var(--panel-bg));
    border-right: 1px solid hsl(var(--border));
  }

  .input-panel-header {
    @apply sticky top-0 z-10 px-6 py-4 border-b;
    background: hsl(var(--panel-bg));
    border-color: hsl(var(--border));
  }

  .input-panel-content {
    @apply p-6 space-y-6;
  }

  /* Form Section */
  .form-section {
    @apply rounded-lg overflow-hidden;
    background: hsl(var(--card));
    box-shadow: var(--shadow-sm);
    border: 1px solid hsl(var(--border));
  }

  .form-section-header {
    @apply flex items-center justify-between px-4 py-3 cursor-pointer select-none;
    background: hsl(var(--secondary));
    border-bottom: 1px solid hsl(var(--border));
  }

  .form-section-title {
    @apply flex items-center gap-2 font-semibold text-sm uppercase tracking-wide;
    color: hsl(var(--panel-header));
  }

  .form-section-content {
    @apply p-4 space-y-4;
  }

  /* Form Inputs */
  .form-group {
    @apply space-y-1.5;
  }

  .form-label {
    @apply block text-sm font-medium;
    color: hsl(var(--foreground));
  }

  .form-input {
    @apply w-full px-3 py-2 text-sm rounded-md transition-all duration-200;
    background: hsl(var(--background));
    border: 1px solid hsl(var(--border));
    color: hsl(var(--foreground));
  }

  .form-input:focus {
    @apply outline-none ring-2;
    border-color: hsl(var(--input-focus));
    ring-color: hsl(var(--input-focus) / 0.2);
  }

  .form-input::placeholder {
    color: hsl(var(--muted-foreground));
  }

  .form-textarea {
    @apply form-input resize-none;
    min-height: 100px;
  }

  /* Entry Card (for repeatable items) */
  .entry-card {
    @apply p-4 rounded-lg border relative;
    background: hsl(var(--background));
    border-color: hsl(var(--border));
  }

  .entry-card-header {
    @apply flex items-center justify-between mb-3;
  }

  .entry-number {
    @apply text-xs font-bold px-2 py-0.5 rounded;
    background: hsl(var(--primary));
    color: hsl(var(--primary-foreground));
  }

  /* Action Buttons */
  .btn-add {
    @apply flex items-center justify-center gap-2 w-full py-2.5 rounded-md text-sm font-medium transition-all duration-200;
    background: hsl(var(--primary));
    color: hsl(var(--primary-foreground));
  }

  .btn-add:hover {
    background: hsl(var(--primary) / 0.9);
    transform: translateY(-1px);
    box-shadow: var(--shadow-md);
  }

  .btn-remove {
    @apply p-1.5 rounded-md transition-all duration-200;
    background: hsl(var(--destructive) / 0.1);
    color: hsl(var(--destructive));
  }

  .btn-remove:hover {
    background: hsl(var(--destructive));
    color: hsl(var(--destructive-foreground));
  }

  /* Preview Panel (Right Side) */
  .preview-panel {
    @apply flex-1 h-full overflow-y-auto p-8;
    background: hsl(var(--muted));
  }

  .preview-container {
    @apply mx-auto;
    max-width: 850px;
  }

  .preview-actions {
    @apply flex items-center justify-end gap-3 mb-4;
  }

  .btn-download {
    @apply flex items-center gap-2 px-5 py-2.5 rounded-md font-semibold text-sm transition-all duration-200;
    background: hsl(var(--accent));
    color: hsl(var(--accent-foreground));
    box-shadow: var(--shadow-md);
  }

  .btn-download:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-lg);
  }

  .btn-load-example {
    @apply flex items-center gap-2 px-5 py-2.5 rounded-md font-semibold text-sm transition-all duration-200;
    background: hsl(var(--primary));
    color: hsl(var(--primary-foreground));
    box-shadow: var(--shadow-md);
  }

  .btn-load-example:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-lg);
  }


  /* Resume Page (A4 Style - Single Page) */
  .resume-page {
    width: 210mm;
    min-height: 297mm;
    padding: 20mm 15mm;
    background-color: #ffffff;
    display: flex;
    flex-direction: column;
    overflow: visible;
    box-sizing: border-box;
    box-shadow: var(--shadow-resume);
    border-radius: 4px;
    page-break-inside: avoid;
    page-break-after: avoid;
    position: relative;
  }

  .resume-page * {
    box-shadow: none !important;
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }



  /* Resume Header */
  .resume-header {
    @apply text-center pb-4 mb-4;
    border-bottom: 2px solid hsl(var(--resume-accent));
  }

  .resume-name {
    @apply text-2xl font-bold tracking-tight mb-1;
    font-family: 'Libre Baskerville', Georgia, serif;
    color: hsl(var(--resume-text));
  }

  .resume-title {
    @apply text-base font-medium mb-3;
    color: hsl(var(--resume-accent));
  }

  .resume-icons {
    display: flex;
    gap: 18px;
    flex-wrap: wrap;
    justify-content: center;
    color: #000;
    font-size: 14px;
  }

  .icon-item {
    display: flex;
    align-items: center;
    gap: 6px;
    white-space: nowrap;
  }

  .icon-link {
    color: inherit;
    text-decoration: none;
    transition: color 0.2s ease;
  }

  .icon-link:hover {
    color: hsl(var(--resume-accent));
  }

  .icon-item svg {
    stroke: none;
    fill: currentColor;
  }

  /* Resume Body - Two Column Layout (Grid-based for strict column constraints) */
  .resume-body {
    display: grid;
    grid-template-columns: 1fr 2fr;
    gap: 0;
    align-items: start;
    width: 100%;
    flex: 1;
    min-height: 0;
    overflow: hidden;
  }

  .resume-left-column {
    @apply p-4 space-y-3;
    background: hsl(var(--secondary) / 0.3);
    border-right: 1px solid hsl(var(--border));
    min-width: 0;
    overflow: hidden;
    word-wrap: break-word;
    overflow-wrap: break-word;
    height: 100%;
  }

  .resume-right-column {
    @apply p-4 space-y-3;
    min-width: 0;
    overflow: hidden;
    word-wrap: break-word;
    overflow-wrap: break-word;
    height: 100%;
  }

  /* Resume Section */
  .resume-section {
    @apply space-y-3;
    page-break-inside: avoid;
    margin-bottom: 12px;
  }

  .resume-section-title {
    @apply text-xs font-bold uppercase tracking-widest pb-1 mb-3;
    color: hsl(var(--resume-accent));
    border-bottom: 1.5px solid hsl(var(--resume-accent));
  }

  .resume-section-content {
    @apply text-xs leading-relaxed;
    color: hsl(var(--resume-text));
  }

  /* Resume Entry - Block layout to prevent horizontal overflow */
  .resume-entry {
    margin-bottom: 16px;
    display: block;
    width: 100%;
  }

  .resume-entry:last-child {
    margin-bottom: 0;
  }

  .resume-entry-header {
    @apply flex items-baseline justify-between gap-x-2;
    flex-wrap: wrap;
    margin-bottom: 3px;
  }

  .resume-entry-title {
    @apply font-bold text-xs;
    color: hsl(var(--resume-text));
    flex-shrink: 1;
    min-width: 0;
    word-wrap: break-word;
    overflow-wrap: break-word;
  }

  .resume-entry-subtitle {
    @apply text-xs;
    color: hsl(var(--resume-muted));
    display: block;
    font-style: normal;
    margin-bottom: 2px;
  }

  .resume-entry-dates {
    @apply text-xs;
    color: hsl(var(--resume-muted));
    flex-shrink: 0;
    font-style: normal;
  }

  .resume-entry-description {
    @apply text-xs;
    color: hsl(var(--resume-muted));
    display: block;
    word-wrap: break-word;
    overflow-wrap: break-word;
    font-style: normal;
    margin-top: 4px;
    margin-bottom: 6px;
  }

  /* Bullet Points - Proper vertical alignment */
  .resume-bullets {
    list-style: none;
    margin: 0;
    margin-top: 6px;
    padding-left: 0.75rem;
    display: block;
  }

  .resume-bullet {
    @apply text-xs leading-relaxed relative;
    color: hsl(var(--resume-text));
    padding-left: 0.75rem;
    margin-bottom: 4px;
    display: block;
    word-wrap: break-word;
    overflow-wrap: break-word;
  }

  .resume-bullet::before {
    content: '•';
    @apply absolute left-0 font-bold;
    color: #000;
  }

  /* Skills Display */
  .resume-skills-list {
    @apply text-xs leading-relaxed;
    color: hsl(var(--resume-text));
    column-count: 2;
    column-gap: 12px;
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .resume-skills-list .skill-item {
    display: block;
    margin-bottom: 4px;
    break-inside: avoid;
    page-break-inside: avoid;
  }

  .resume-skills-list .skill-item::before {
    content: '• ';
    font-weight: bold;
  }

  /* Link styling */
  .resume-link {
    color: hsl(var(--resume-accent));
    text-decoration: none;
  }

  .resume-link:hover {
    text-decoration: underline;
  }

  /* Certifications List */
  .resume-cert-list p {
    @apply text-xs leading-relaxed mb-1;
    color: hsl(var(--resume-text));
  }
}

/* Print styles removed - PDF only */

/* Animations */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideIn {
  from {
    opacity: 0;
    transform: translateX(-10px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

.form-section {
  animation: fadeIn 0.3s ease-out;
}

.entry-card {
  animation: slideIn 0.2s ease-out;
}

/* Responsive adjustments */
@media (max-width: 1024px) {
  .input-panel {
    @apply w-1/2 min-w-[350px];
  }
}

@media (max-width: 768px) {
  .resume-builder {
    @apply flex-col;
  }

  .input-panel {
    @apply w-full max-w-none h-auto border-r-0 border-b;
  }

  .preview-panel {
    @apply h-auto min-h-screen;
  }
}
